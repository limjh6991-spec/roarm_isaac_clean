# RoArm-M3 RL Training Progress

## ğŸ“Š í˜„ì¬ ë³´ìƒ ê¸°ì¤€ (Shaped-Sparse Reward)

### ë³´ìƒ êµ¬ì¡°
```python
1. ê·¼ì ‘ ë³´ìƒ (+5.0)
   - ì¡°ê±´: EEê°€ íë¸Œ 5cm ì´ë‚´ ì§„ì…
   - ê²Œì´íŒ…: ì—†ìŒ
   - 1íšŒì„±: âœ… (first_reach í”Œë˜ê·¸)
   - ìƒíƒœ: âœ… ë‹¬ì„±! (50K steps)

2. ê·¸ë¦½ ë³´ìƒ (+10.0)
   - ì¡°ê±´: ìœ íš¨ ê·¸ë¦½ 3í”„ë ˆì„ ìœ ì§€
   - ê²Œì´íŒ…: âœ… grasp_valid
   - 1íšŒì„±: âœ… (valid_grip í”Œë˜ê·¸)
   - ìƒíƒœ: âŒ ë¯¸ë‹¬ì„±

3. ë¦¬í”„íŠ¸ ë³´ìƒ (+15.0)
   - ì¡°ê±´: íë¸Œ 5cm ì´ìƒ ë“¤ì–´ì˜¬ë¦¼
   - ê²Œì´íŒ…: âœ… grasp_valid
   - 1íšŒì„±: âœ… (lifted í”Œë˜ê·¸)
   - ìƒíƒœ: âŒ ë¯¸ë‹¬ì„±

4. ëª©í‘œ ê·¼ì ‘ ë³´ìƒ (+20.0)
   - ì¡°ê±´: íë¸Œê°€ íƒ€ê²Ÿ 8cm ì´ë‚´
   - ê²Œì´íŒ…: âœ… grasp_valid
   - 1íšŒì„±: âœ… (goal_near í”Œë˜ê·¸)
   - ìƒíƒœ: âŒ ë¯¸ë‹¬ì„±

5. Success ë³´ìƒ (+100.0)
   - ì¡°ê±´: íƒ€ê²Ÿ 5cm ì´ë‚´ 5í”„ë ˆì„ ìœ ì§€
   - ê²Œì´íŒ…: ì—†ìŒ (ê²°ê³¼ ê²€ì¦)
   - 1íšŒì„±: âœ… (ì—í”¼ì†Œë“œë‹¹)
   - ìƒíƒœ: âŒ ë¯¸ë‹¬ì„±

6. Time Penalty (-0.01)
   - ë§¤ ìŠ¤í… ì ìš©
   - íš¨ìœ¨ì„± ìœ ë„
```

### grasp_valid ê²Œì´íŒ… ì¡°ê±´
```python
grasp_valid = (
    ee_to_cube_dist < 0.08 and      # EEê°€ 8cm ì´ë‚´
    gripper_width < 0.02 and        # ê·¸ë¦¬í¼ê°€ ë‹«í˜
    cube_pos[2] > 0.03              # íë¸Œê°€ ë°”ë‹¥ ìœ„
)
```

## ğŸ“š Curriculum Learning

### Phase 0: Easy Mode (í˜„ì¬)
- **íë¸Œ ê±°ë¦¬**: 10~15cm (ë¡œë´‡ ê°€ê¹Œì´)
- **íƒ€ê²Ÿ ê±°ë¦¬**: 20~25cm (ê°€ê¹Œìš´ ëª©í‘œ)
- **ìŠ¹ê¸‰ ì¡°ê±´**: ì„±ê³µë¥  â‰¥60% (ìµœê·¼ 200 ì—í”¼ì†Œë“œ)
- **ëª©ì **: ë¹ ë¥¸ Success ê²½í—˜ ì¶•ì 

### Phase 1: Normal Mode (ë¯¸ë˜)
- **íë¸Œ ê±°ë¦¬**: 25~35cm (ì›ë˜ ê±°ë¦¬)
- **íƒ€ê²Ÿ ê±°ë¦¬**: 25~35cm
- **ëª©ì **: ì¼ë°˜í™” ë° ì‹¤ì „ ëŒ€ë¹„

## ğŸ“ˆ í•™ìŠµ ì„±ê³¼

### Dense Reward (ì‹¤íŒ¨)
- **Steps**: 100K
- **ep_rew_mean**: +916 (í­ë°œ!)
- **Explained Variance**: 0.00006 (ë¶•ê´´)
- **Value Loss**: 855 (ê·¹ë„ë¡œ ë†’ìŒ)
- **ë¬¸ì œ**: ê°œì„  ë³´ìƒ ëˆ„ì ìœ¼ë¡œ ì •ì±… ë¶•ê´´

### Sparse Reward (ì•ˆì •)
- **Steps**: 100K
- **ep_rew_mean**: -6.01 â†’ -6.01 (ì•ˆì •)
- **Explained Variance**: 0.283 (4,717ë°° ê°œì„ !)
- **Value Loss**: 0.136 (6,287ë°° ê°œì„ !)
- **ë¬¸ì œ**: Success ì‹ í˜¸ ë¶€ì¡± (GUI í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨)

### Shaped-Sparse + Curriculum (í˜„ì¬)
- **Steps**: 50K (Phase 0)
- **ep_rew_mean**: -6.01 â†’ -4.21 (30% ê°œì„ !)
- **ë§ˆì¼ìŠ¤í†¤**: 
  - âœ… REACH (+5.0) ë‹¬ì„±!
  - âŒ GRIP, LIFT, GOAL, SUCCESS ë¯¸ë‹¬ì„±
- **Checkpoints**: 9ê°œ ì €ì¥
- **ë‹¤ìŒ ëª©í‘œ**: 200K steps ì¥ê¸° í•™ìŠµ

## ğŸ”§ í•˜ì´í¼íŒŒë¼ë¯¸í„°

```python
# PPO ì„¤ì •
learning_rate = 3e-4
n_steps = 2048
batch_size = 64
n_epochs = 10
gamma = 0.99
gae_lambda = 0.95

# ì•ˆì •í™”
clip_range = 0.2
clip_range_vf = 1.0      # Value Clipping
max_grad_norm = 0.5
target_kl = 0.03         # ì •ì±… ì•ˆì •ì„±

# íƒìƒ‰
ent_coef = 0.01          # Shaped-Sparseìš© íƒìƒ‰ ê°•í™”

# ì •ê·œí™”
VecNormalize:
  - norm_obs = True
  - norm_reward = True
  - clip_reward = 10.0
```

## ğŸ“ ì „ë¬¸ê°€ ì˜ê²¬ ì ìš©

### TOP 5 ìš°ì„ ìˆœìœ„ (ì™„ë£Œ)
1. âœ… **Sparse Reward**: ê°œì„  ë³´ìƒ ì™„ì „ ì œê±°
2. âœ… **Value Clipping**: clip_range_vf=1.0
3. âœ… **í•˜ì´í¼íŒŒë¼ë¯¸í„° ê¸°ë³¸ê°’**: lr, vf_coef, n_epochs
4. âœ… **VecNormalize**: obs+reward ì •ê·œí™”
5. âœ… **ì¡°ê¸° ê²½ë³´**: EV/VL ìë™ ê°ì§€

### ì¶”ê°€ ê°œì„  (ì™„ë£Œ)
6. âœ… **Shaped-Sparse**: ê²Œì´íŒ… + 1íšŒì„± ì´ë²¤íŠ¸
7. âœ… **Curriculum Learning**: Phase 0 Easy Mode
8. âœ… **ë¡œê¹… ì‹œìŠ¤í…œ**: events, done_reason, success_rate

## ğŸš§ URDF ê°œì„  í•„ìš”

### ë¬¸ì œì 
1. **ê·¸ë¦¬í¼ í˜•íƒœ**: ë¬¼ê±´ì„ ì¡ê¸°ì— ë¶€ì í•©
   - í˜„ì¬: ë‹¨ìˆœ í”„ë¦¬ì¦˜ í˜•íƒœ
   - í•„ìš”: í‰í–‰ ê·¸ë¦¬í¼ (Parallel Jaw)

2. **Link í¬ê¸°/ë¹„ìœ¨**: ì‹¤ì œ RoArm M3ì™€ ë¶ˆì¼ì¹˜
   - Link 2: í˜„ì¬ 120mm â†’ ì‹¤ì œ 160mm
   - Link 3: í˜„ì¬ ë¶ˆëª…í™• â†’ ì‹¤ì œ 150mm
   - Link 4: í˜„ì¬ ë¶ˆëª…í™• â†’ ì‹¤ì œ 90mm

### ê°œì„  ê³„íš
- RoArm M3 ê³µì‹ ë¬¸ì„œ ì°¸ì¡°
- Link dimensions ì •í™•í•œ ì¸¡ì •ê°’ ë°˜ì˜
- ê·¸ë¦¬í¼ ë©”ì»¤ë‹ˆì¦˜ ì¬ì„¤ê³„ (parallel jaw)
- Collision meshes ì—…ë°ì´íŠ¸

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

### ë‹¨ê¸° (ì˜¤ëŠ˜)
1. âœ… GUI í…ŒìŠ¤íŠ¸ ì‹¤í–‰
2. â³ 200K steps ì¥ê¸° í•™ìŠµ ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰
3. ğŸ“ ë¬¸ì„œ ì •ë¦¬ (README, logs)
4. ğŸ”„ GitHub push

### ì¤‘ê¸° (ë‚´ì¼)
1. URDF ê°œì„  ì‘ì—…
2. ì¥ê¸° í•™ìŠµ ê²°ê³¼ ë¶„ì„
3. Phase 1 Normal Mode ì „í™˜ (ì„±ê³µë¥  â‰¥60% ì‹œ)

### ì¥ê¸°
1. Phase 1 ì™„ë£Œ í›„ ìµœì¢… ì„±ëŠ¥ í‰ê°€
2. Real Robot í…ŒìŠ¤íŠ¸ ì¤€ë¹„
3. ë…¼ë¬¸/ë³´ê³ ì„œ ì‘ì„±

---

**Last Updated**: 2025-10-19 18:50 KST
**Training Phase**: Phase 0 (Easy Mode)
**Total Steps**: 50K
**Next Milestone**: GRIP (+10.0)
