# μ‘μ—… μΌμ§€ - 2025λ…„ 10μ›” 24μΌ

## π“‹ μ‘μ—… μ”μ•½

μ¤λμ€ **GRIP μ΅°κ±΄ κ°•ν™”** λ° **μ΅°μΈνΈ κµ¬μ΅° λ¶„μ„**μ— μ§‘μ¤‘ν–μµλ‹λ‹¤.

---

## π― μ£Όμ” μ„±κ³Ό

### 1. GRIP μ΅°κ±΄ κ°•ν™” (v3.8.0 β†’ v3.8.1) β…

**λ¬Έμ  λ°κ²¬**:
- 300K ν•™μµ ν›„ GRIP 38%, LIFT 0%
- GUI ν™•μΈ κ²°κ³Ό: λ΅λ΄‡μ΄ νλΈ 5cm κ±°λ¦¬μ—μ„ "μ„±κ³µ" νμ •
- μ‹¤μ λ΅λ” νλΈλ¥Ό μ΅μ§€ λ»ν•¨ (False Positive)

**ν•΄κ²°**:
```python
# μ΄μ „ (v3.8.0)
grasp_valid = (
    dist_to_cube < 0.05 and           # 5cm
    0.025 < gripper_width < 0.060 and # 2.5-6.0cm
    abs(z_offset) < 0.02              # 2cm
)

# ν„μ¬ (v3.8.1)
grasp_valid = (
    dist_to_cube < 0.03 and           # 3cm (-40%)
    0.030 < gripper_width < 0.050 and # 3.0-5.0cm (Β±0.5cm)
    abs(z_offset) < 0.015             # 1.5cm (-25%)
)
```

**μν–¥**:
- μ΅°κ±΄μ΄ 3λ°° μ—„κ²©ν•΄μ§
- μ‹¤μ  λ¬Όλ¦¬μ  μ΅κΈ° κ°€λ¥ν•λ„λ΅ μ„¤κ³„
- μ΄κΈ° μ„±κ³µλ¥  μ €ν• μμƒ (38% β†’ 0% β†’ μ μ§„μ  μ¦κ°€)

### 2. μ΅°μΈνΈ κµ¬μ΅° λ¬Έμ  λ°κ²¬ π”

**λ¶„μ„ κ²°κ³Ό**:
- μ‹¤μ  RoArm-M3: **5+1 DOF** (6κ° μ΅°μΈνΈ)
  * BASE, SHOULDER, ELBOW, WRIST, ROLL + GRIPPER
  
- ν„μ¬ URDF: **6+2 DOF** (8κ° μ΅°μΈνΈ)
  * joint_1 ~ joint_6 + gripper_left + gripper_right
  * **joint_6μ μ •μ²΄ λ¶λ…** β οΈ

**μμ‹¬ μ‚¬ν•­**:
```
joint_6:
  - Parent: link_5
  - Child: gripper_base
  - Type: revolute (Zμ¶• νμ „)
  - Range: -90Β° ~ +90Β°
  - λ¬Έμ : μ‹¤μ  λ΅λ΄‡μ—λ” μ—†λ” μ΅°μΈνΈ
```

**μ¶”κ°€ λ¬Έμ **:
```
joint_4 (WRIST):
  - URDF: -180Β° ~ +180Β°
  - μ‹¤μ : -90Β° ~ +90Β°
  - μν–¥: ν•™μµ μ‹ λ¶κ°€λ¥ν• μμ„Έ νƒμƒ‰
```

### 3. λ¬Έμ„ν™” μ™„λ£ π“

**μƒμ„±λ λ¬Έμ„**:

1. **`docs/v3.8.1_grip_strengthening_plan.md`**
   - GRIP μ΅°κ±΄ κ°•ν™” μƒμ„Έ μ„¤λ…
   - λ³΄μƒ κµ¬μ΅° μ™„μ „ λ¶„μ„
   - ν•™μµ μ „λµ λ° μμƒ μ§„ν–‰
   - AI κµμ°¨ κ²€μ¦ μ”μ²­μ‚¬ν•­

2. **`docs/joint_comparison_analysis.md`**
   - μ‹¤μ  vs URDF μ΅°μΈνΈ λΉ„κµ
   - joint_6 λ¬Έμ  λ¶„μ„
   - ν•΄κ²° λ°©μ• 3κ°€μ§€ μ μ‹
   - κ²€μ¦ κ³„ν

3. **`scripts/rl/check_joint_structure.py`**
   - μ΅°μΈνΈ κµ¬μ΅° μ§„λ‹¨ λ„κµ¬
   - joint_6 μ›€μ§μ„ ν…μ¤νΈ
   - GUI κΈ°λ° μ‹κ°μ  κ²€μ¦

---

## π”¬ μ§„ν–‰ μ¤‘μΈ ν•™μµ

### v3.8.1 ν•™μµ ν„ν™©

```yaml
μ‹μ‘ μ‹κ°„: 2025-10-24 20:50
λ©ν‘: 300,000 timesteps
ν„μ¬: 5,000 timesteps (1.7%)
μμƒ μ™„λ£: 21:05 (μ•½ 15λ¶„ μ†μ”)

μ΄κΈ° μ§€ν‘:
  GRIP: 0% (μμƒλ€λ΅, μ΅°κ±΄ κ°•ν™”)
  REACH: 0% (μ΄κΈ° νƒμƒ‰ λ‹¨κ³„)
  LIFT: 0%
  ν‰κ·  λ³΄μƒ: 2,310
  FPS: 384
```

### ν•™μµ νλΌλ―Έν„°

```python
Algorithm: PPO
Learning Rate: 3e-4
Batch Size: 64
N-steps: 2048
Entropy: 0.01
```

---

## π“ μ΄μ „ ν•™μµ κ²°κ³Ό (v3.8.0)

| Timesteps | REACH | GRIP | LIFT | λΉ„κ³  |
|-----------|-------|------|------|------|
| 100K | 40% | 0% | 0% | μ΄κΈ° ν•™μµ |
| 300K | 49% | 38% | 0% | GRIP μ΅°κ±΄ λ„λ¬΄ λμ¨ |

**λ¬Έμ μ **:
- GRIP 38%μ΄μ§€λ§ μ‹¤μ λ΅ νλΈ μ• μ΅μ
- λ΅κ·ΈμƒμΌλ΅λ§ μ„±κ³µ (dist=4.6cmμ—μ„ +50 λ³΄μƒ)
- LIFT λ¶κ°€λ¥ (λ¬Όλ¦¬μ  attachment μ• λ¨)

---

## π”§ κΈ°μ μ  κ°μ„ μ‚¬ν•­

### 1. ν™κ²½ μ½”λ“ μμ •

**νμΌ**: `envs/roarm_pick_place_env.py`

```python
# Lines 860-870: GRIP μ΅°κ±΄ κ°•ν™”
is_grasping_cube = (0.030 < gripper_width < 0.050)  # 3-5cm
grasp_valid = (
    dist_to_cube < 0.03 and              # 3cm
    is_grasping_cube and
    abs(cube_relative_to_ee[2]) < 0.015  # 1.5cm
)

# Lines 990-1010: PERFECT GRIP μ΅°κ±΄
if dist_to_cube < 0.02 and abs(cube_relative_to_ee[2]) < 0.008:
    reward += 100.0  # PERFECT GRIP
```

### 2. ν•™μµ μ¤ν¬λ¦½νΈ κ°μ„ 

**νμΌ**: `scripts/rl/train_dense_reward.py`

- `--resume` μΈμ μ¶”κ°€ (λ¨λΈ κ²½λ΅)
- `--resume-vecnorm` μΈμ μ¶”κ°€ (ν†µκ³„ νμΌ κ²½λ΅)
- VecNormalize λ΅λ”© λ΅μ§ κµ¬ν„

### 3. μ§„λ‹¨ λ„κµ¬ μ¶”κ°€

**νμΌ**: `scripts/rl/check_joint_structure.py`

- Isaac Sim GUIμ—μ„ κ° μ΅°μΈνΈ κ°λ³„ ν…μ¤νΈ
- joint_6 μ›€μ§μ„ μ‹κ°ν™”
- κ·Έλ¦¬νΌ λ™μ‘ ν™•μΈ

---

## π“ ν•™μµν• λ‚΄μ©

### 1. GRIP μ΅°κ±΄ μ„¤κ³„μ μ¤‘μ”μ„±

```
λμ¨ν• μ΅°κ±΄ (5cm):
  β“ λΉ λ¥Έ ν•™μµ
  β— False Positive (κ°€μ§ μ„±κ³µ)
  β— μ‹¤μ  νƒμ¤ν¬ λ¶κ°€λ¥

μ—„κ²©ν• μ΅°κ±΄ (3cm):
  β— λλ¦° μ΄κΈ° ν•™μµ
  β“ μ§„μ§ μ„±κ³µ (True Positive)
  β“ μ‹¤μ  λ΅λ΄‡ μ „μ΄ κ°€λ¥
```

### 2. Visual Verificationμ ν•„μμ„±

- λ΅κ·Έ μ§€ν‘λ§μΌλ΅λ” λ¶μ¶©λ¶„
- GUI μ¬μƒμΌλ΅ μ‹¤μ  ν–‰λ™ ν™•μΈ ν•„μ”
- "dist=0.046m, GRIP +50" β†’ μ‹¤μ λ΅λ” μ‹¤ν¨

### 3. URDFμ™€ μ‹¤μ  λ΅λ΄‡μ κ΄΄λ¦¬

- URDFκ°€ μ‹¤μ  λ΅λ΄‡κ³Ό λ‹¤λ¥Ό μ μμ
- joint_6 κ°™μ€ λ¶ν•„μ”ν• μ΅°μΈνΈ μ΅΄μ¬ κ°€λ¥
- μ μ΅°μ‚¬ μ¤ν™κ³Ό λ€μ΅° ν•„μ”

---

## π€ λ‹¤μ λ‹¨κ³„

### μ¦‰μ‹ μν–‰ (ν•™μµ μ™„λ£ ν›„)

1. **GUI κ²€μ¦** β οΈ μµμ°μ„ 
   ```bash
   ~/isaacsim/python.sh scripts/rl/replay_roarm_gui.py \
     --model logs/rl_training_curriculum/final_model/roarm_ppo_dense_final.zip \
     --vecnorm logs/rl_training_curriculum/final_model/vecnormalize.pkl \
     --episodes 5
   ```
   - GRIP λ‹¬μ„± μ‹ νλΈκ°€ μ‹¤μ λ΅ λ“¤λ¦¬λ”μ§€ ν™•μΈ
   - v3.8.0 (38% κ°€μ§) vs v3.8.1 (μμƒ 20-30% μ§„μ§)

2. **μ΅°μΈνΈ κµ¬μ΅° κ²€μ¦**
   ```bash
   ~/isaacsim/python.sh scripts/rl/check_joint_structure.py
   ```
   - joint_6μ΄ μ‹¤μ λ΅ μ›€μ§μ΄λ”μ§€
   - μ›€μ§μ„μ μλ―Έκ°€ μλ”μ§€
   - URDF μμ • ν•„μ” μ—¬λ¶€ νλ‹¨

### λ‹¨κΈ° λ©ν‘ (1-2μΌ)

1. **v3.8.1 ν•™μµ μ™„λ£ λ¶„μ„**
   - 300K ν•™μµ κ²°κ³Ό ν‰κ°€
   - GRIP/LIFT λ‹¬μ„± μ—¬λ¶€
   - ν•„μ”μ‹ 500K μ—°μ¥

2. **URDF μμ • (v3.8.2)**
   - joint_6 μ²λ¦¬ (μ κ±° or fixed)
   - joint_4 λ²”μ„ μμ • (Β±180Β° β†’ Β±90Β°)
   - Isaac Sim μ„ν¬νΈ ν…μ¤νΈ

3. **μ¬ν•™μµ (v3.8.2 ν™κ²½)**
   - μμ •λ URDFλ΅ 300K ν•™μµ
   - μ΅°μΈνΈ κ°μ κ°μ†λ΅ ν•™μµ ν¨μ¨ ν–¥μƒ κΈ°λ€

### μ¤‘κΈ° λ©ν‘ (1μ£ΌμΌ)

1. **Curriculum Learning λ„μ…**
   - Phase 0: μ‰¬μ΄ μ΅°κ±΄ (5cm)
   - Phase 1: λ³΄ν†µ μ΅°κ±΄ (4cm)
   - Phase 2: μ–΄λ ¤μ΄ μ΅°κ±΄ (3cm)

2. **Hyperparameter Tuning**
   - Entropy κ³„μ μ΅°μ •
   - λ³΄μƒ scale μµμ ν™”
   - ν•™μµλ¥  μ¤μΌ€μ¤„λ§

3. **μ‹¤μ  λ΅λ΄‡ μ¤€λΉ„**
   - Sim-to-Real μ „λµ μλ¦½
   - Domain Randomization μ μ©
   - μ‹¤μ  λ΅λ΄‡ ν…μ¤νΈ κ³„ν

---

## π“ λ³€κ²½λ νμΌ λ©λ΅

### μμ •λ νμΌ

```
envs/roarm_pick_place_env.py
  - Lines 860-870: GRIP μ΅°κ±΄ κ°•ν™”
  - Lines 990-1010: PERFECT GRIP μ΅°κ±΄ κ°•ν™”
  
scripts/rl/train_dense_reward.py
  - --resume, --resume-vecnorm μΈμ μ¶”κ°€
  - VecNormalize λ΅λ”© λ΅μ§ κµ¬ν„
```

### μƒλ΅ μƒμ„±λ νμΌ

```
docs/v3.8.1_grip_strengthening_plan.md
  - GRIP κ°•ν™” μƒμ„Έ κ³„ν
  - λ³΄μƒ κµ¬μ΅° λ¶„μ„
  - AI κ²€μ¦ μ”μ²­μ‚¬ν•­
  
docs/joint_comparison_analysis.md
  - μ΅°μΈνΈ κµ¬μ΅° λΉ„κµ
  - joint_6 λ¬Έμ  λ¶„μ„
  - ν•΄κ²° λ°©μ• μ μ‹
  
docs/daily_log_2025-10-24.md
  - μ¤λ μ‘μ—… μΆ…ν•© μ •λ¦¬
  
scripts/rl/check_joint_structure.py
  - μ΅°μΈνΈ μ§„λ‹¨ λ„κµ¬
  - GUI κΈ°λ° μ‹κ°μ  κ²€μ¦
```

---

## π’Ύ μ²΄ν¬ν¬μΈνΈ

### v3.8.0 (μ΄μ „ λ²„μ „)

```
logs/rl_training_curriculum/checkpoints/
  - roarm_ppo_curriculum_300000_steps.zip (182 KB)
  - roarm_ppo_curriculum_vecnormalize_300000_steps.pkl (2.2 KB)

κ²°κ³Ό: REACH 49%, GRIP 38%, LIFT 0%
λ¬Έμ : GRIP μ΅°κ±΄ λ„λ¬΄ λμ¨
```

### v3.8.1 (ν„μ¬ λ²„μ „)

```
ν„μ¬ ν•™μµ μ¤‘: 5K / 300K
μμƒ μ €μ¥ μ„μΉ:
  - logs/rl_training_curriculum/final_model/roarm_ppo_dense_final.zip
  - logs/rl_training_curriculum/final_model/vecnormalize.pkl
  
μ²΄ν¬ν¬μΈνΈ: 5K, 10K, 15K, ... (5K κ°„κ²©)
```

---

## π¤” λ―Έν•΄κ²° μ§λ¬Έ

### 1. joint_6μ μ •μ²΄

```
μ§λ¬Έ:
  - URDFμ joint_6μ€ μ‹¤μ  λ΅λ΄‡μ— μ΅΄μ¬ν•λ”κ°€?
  - κ·Έλ¦¬νΌ νμ „ λ©”μ»¤λ‹μ¦κ³Ό κ΄€λ ¨ μλ”κ°€?
  - μ κ±°ν•΄λ„ ν•™μµμ— λ¬Έμ μ—†λ”κ°€?

κ²€μ¦ ν•„μ”:
  - check_joint_structure.py μ‹¤ν–‰
  - μ‹¤μ  λ΅λ΄‡ μ¤ν™ μ¬ν™•μΈ
  - μ μ΅°μ‚¬ λ¬Έμ
```

### 2. GRIP μ΅°κ±΄ μ μ •μ„±

```
μ§λ¬Έ:
  - 3cmκ°€ λ„λ¬΄ μ—„κ²©ν•κ°€?
  - 3.5cmλ‚ 4cmκ°€ λ” ν•©λ¦¬μ μΈκ°€?
  - CurriculumμΌλ΅ μ μ§„μ  κ°•ν™”κ°€ λ‚μ€κ°€?

κ²€μ¦ ν•„μ”:
  - v3.8.1 ν•™μµ κ²°κ³Ό λ€κΈ°
  - 300Kμ—μ„ GRIP 20-30% λ‹¬μ„± μ—¬λ¶€
  - λ‹¬μ„± λ»ν•λ©΄ 3.5cmλ΅ μ™„ν™” κ³ λ ¤
```

### 3. ν•™μµ μ‹κ°„

```
μ§λ¬Έ:
  - 300Kλ΅ LIFT λ‹¬μ„± κ°€λ¥ν•κ°€?
  - 500Kλ‚ 1MκΉμ§€ ν•„μ”ν•κ°€?
  - Curriculumμ΄ λ” ν¨μ¨μ μΈκ°€?

κ²€μ¦ ν•„μ”:
  - 300K κ²°κ³Ό λ¶„μ„
  - LIFT 10% μ΄μƒμ΄λ©΄ μ„±κ³µ
  - λ―Έλ‹¬ μ‹ μ—°μ¥ or μ΅°κ±΄ μ™„ν™”
```

---

## π“ μ°Έκ³  μλ£

### κ³µμ‹ λ¬Έμ„

- Waveshare RoArm-M3 Wiki: https://www.waveshare.com/wiki/RoArm-M3
- Isaac Sim Documentation: https://docs.omniverse.nvidia.com/isaacsim/
- Stable Baselines3 PPO: https://stable-baselines3.readthedocs.io/

### ν”„λ΅μ νΈ λ¬Έμ„

- `README.md`: ν”„λ΅μ νΈ κ°μ”
- `docs/REFERENCES.md`: μ „μ²΄ μ°Έκ³  μλ£ λ¨μ
- `resources/roarm_m3/waveshare_wiki_summary.md`: RoArm-M3 μ¤ν™

### μμ  μ½”λ“

- `resources/roarm_m3/RoArm-M3_example-250108/`: κ³µμ‹ μμ 
- `RoArm-M3_module.h`: μ΅°μΈνΈ μ μ–΄ ν•¨μ
- `RoArm-M3_config.h`: ν•λ“μ›¨μ–΄ νλΌλ―Έν„°

---

## π― ν•µμ‹¬ κµν›

### 1. λ³΄μƒ μ„¤κ³„μ μ¤‘μ”μ„±

> "μΆ‹μ€ μ§€ν‘κ°€ λ‚μ ν–‰λ™μ„ λ§λ“¤ μ μλ‹¤"

- GRIP 38%μ΄μ§€λ§ μ‹¤μ λ΅λ” 0%
- μ§€ν‘λ§ λ³΄κ³  νλ‹¨ν•λ©΄ μ• λ¨
- Visual verification ν•„μ

### 2. μ‹λ®¬λ μ΄μ…μ ν•κ³„

> "λ¨λ“  λ¨λΈμ€ ν‹€λ Έμ§€λ§, μΌλ¶€λ” μ μ©ν•λ‹¤"

- URDFκ°€ μ‹¤μ μ™€ λ‹¤λ¥Ό μ μμ
- joint_6 κ°™μ€ μ¤λ¥ μ΅΄μ¬ κ°€λ¥
- μ§€μ†μ μΈ κ²€μ¦ ν•„μ”

### 3. μ μ§„μ  κ°μ„ μ ν

> "μ™„λ²½ν• μ΅°κ±΄λ³΄λ‹¤ λΉ λ¥Έ ν”Όλ“λ°±"

- v3.7 β†’ v3.8.0 β†’ v3.8.1 μ§„ν™”
- κ° λ²„μ „μ—μ„ λ¬Έμ  λ°κ²¬ λ° ν•΄κ²°
- Iterative improvement

---

## β… μ¤λμ μ„±κ³Ό μ²΄ν¬λ¦¬μ¤νΈ

- [x] GRIP μ΅°κ±΄ κ°•ν™” (v3.8.1)
- [x] μ΅°μΈνΈ κµ¬μ΅° λ¶„μ„ μ™„λ£
- [x] λ¬Έμ„ 3κ° μ‘μ„±
- [x] μ§„λ‹¨ λ„κµ¬ κ°λ°
- [x] v3.8.1 ν•™μµ μ‹μ‘ (μ§„ν–‰ μ¤‘)
- [ ] ν•™μµ μ™„λ£ λ€κΈ° (μμ •)
- [ ] GUI κ²€μ¦ (μμ •)
- [ ] μ΅°μΈνΈ κ²€μ¦ (μμ •)

---

## π™ λ‚΄μΌ ν•  μΌ

1. **v3.8.1 ν•™μµ κ²°κ³Ό λ¶„μ„**
   - 300K μ™„λ£ ν™•μΈ
   - GUI μ¬μƒμΌλ΅ μ‹¤μ  ν–‰λ™ κ²€μ¦
   - GRIP/LIFT λ‹¬μ„± μ—¬λ¶€ ν‰κ°€

2. **μ΅°μΈνΈ κµ¬μ΅° κ²€μ¦**
   - `check_joint_structure.py` μ‹¤ν–‰
   - joint_6 μ›€μ§μ„ κ΄€μ°°
   - URDF μμ • ν•„μ”μ„± νλ‹¨

3. **λ‹¤μ ν•™μµ κ³„ν μλ¦½**
   - v3.8.1 κ²°κ³Όμ— λ”°λΌ κ²°μ •
   - URDF μμ • (v3.8.2) vs μ—°μ¥ ν•™μµ (500K)
   - Curriculum Learning λ„μ… κ²€ν† 

---

**μ‘μ„±μ**: GitHub Copilot  
**μ‘μ„±μΌ**: 2025-10-24 21:00  
**ν™κ²½**: RoArm-M3 + Isaac Sim 5.0 + PPO  
**λ²„μ „**: v3.8.1 (GRIP Strengthening)
